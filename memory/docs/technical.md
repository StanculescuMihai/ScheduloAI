# Technical Specifications Document for Schedulo

## 1. Introduction
*   **Project Name:** Schedulo
*   **Document Version:** 1.0
*   **Date:** 20.06.2025
*   **Author(s):** Dumitru Alina, StÄƒnculescu Mihai
*   **Purpose:** This document provides the technical specifications for the Schedulo project. It details the development environment, technology stack, key technical decisions, and other technical aspects of the project.

## 2. Goals
*   **Technical Goals:** The primary technical goals are to build a secure, scalable, and high-performance application that is maintainable and easy to extend in the future.
*   **Business Goals:** These technical goals support the business objectives of delivering a high-quality user experience, ensuring user data is safe, and being able to rapidly iterate on the product.

## 3. Development Environment
*   **Operating Systems:** Development can be done on macOS, Windows (with WSL2), or Linux.
*   **Programming Languages:**
    *   **Frontend:** TypeScript
    *   **Backend (Supabase Functions):** TypeScript
    *   **AI Service:** Python 3.9+
*   **Frameworks:**
    *   **Frontend:** React Native
*   **Libraries:**
    *   **Frontend:**
        *   `@supabase/supabase-js`: For interacting with the Supabase backend.
        *   `react-native-elements` or `react-native-paper` (to complement Shadcn).
        *   `zustand` or `@reduxjs/toolkit`: For state management.
        *   `react-navigation`: For navigation between screens.
    *   **Backend/AI:**
        *   `pandas`: For data manipulation in the AI service.
        *   `scikit-learn`: For machine learning tasks (future).
*   **Development Tools:**
    *   **IDE:** Visual Studio Code
    *   **Version Control:** Git (hosted on GitHub)
    *   **Package Managers:** npm or yarn for the frontend, pip for the AI service.
    *   **CI/CD:** GitHub Actions

## 4. Technologies Used
*   **Technology Stack:**
    *   **Frontend:** React Native (with TypeScript)
    *   **UI:** Shadcn components, adapted for React Native.
    *   **Backend:** Supabase (PostgreSQL, Auth, Storage, Serverless Functions)
    *   **AI Service:** Python, deployed as a serverless function.
*   **Technology Selection Rationale:**
    *   **React Native:** Allows for cross-platform development (iOS and Android) from a single codebase, saving time and resources.
    *   **Supabase:** Provides a comprehensive backend-as-a-service solution that is easy to set up and scales well. Its focus on PostgreSQL and standard tools makes it flexible.
    *   **Shadcn:** Offers a set of accessible and composable UI components that can be adapted for a consistent look and feel on mobile.
    *   **TypeScript:** Adds static typing to JavaScript, which helps in catching errors early and improving code quality and maintainability.
    *   **Python:** The standard for data science and AI/ML, making it the ideal choice for the AI service.

## 5. Key Technical Decisions
*   **Use of Supabase as the primary backend:** This decision was made to accelerate development by leveraging a managed service for the database, authentication, and other backend functionalities.
*   **Adoption of a serverless architecture:** Both the main backend logic (via Supabase Functions) and the AI service will be serverless. This reduces operational overhead and allows for automatic scaling.
*   **Separation of the AI service:** The AI logic is decoupled from the main application backend. This allows it to be developed, deployed, and scaled independently.

## 6. Design Patterns
*   **Component-Based Architecture (Frontend):** The UI will be built as a collection of reusable React components.
*   **Repository Pattern (Data Access):** A repository layer can be used in the frontend to abstract the data source (Supabase) from the rest of the application.
*   **Provider Pattern (State Management):** A state management library (like Zustand or Redux) will use the provider pattern to make the application state available to all components.

## 7. Technical Constraints
*   **Vendor Lock-in:** Relying heavily on Supabase introduces a degree of vendor lock-in. However, since Supabase is built on open-source technologies like PostgreSQL, migration to a self-hosted solution is possible if needed in the future.
*   **Cold Starts:** Serverless functions can experience "cold starts," which might add latency. This will be monitored, and provisioned concurrency will be used for critical functions if necessary.

## 8. API Specifications
*   The primary API will be the one automatically generated by Supabase (PostgREST) for database access.
*   Custom business logic will be exposed via Supabase Functions, which will have their own specific endpoints. For example:
    *   `POST /functions/v1/resolve-conflict`
        *   **Request Body:** `{ "userId": "...", "schedule": [...] }`
        *   **Response:** `{ "suggestedSchedule": [...] }`
*   Authentication will be handled via JWTs provided by Supabase Auth. The JWT will be sent in the `Authorization` header of each request.

## 9. Data Storage
*   Data will be stored in a PostgreSQL database managed by Supabase.
*   The database schema will be managed via Supabase's migration tools. Key tables will include `users`, `tasks`, `calendar_events`, and `connected_accounts`.

## 10. Security Considerations
*   **Row-Level Security (RLS):** RLS will be strictly enforced in the database to ensure users can only access their own data.
*   **Environment Variables:** All secrets (API keys, database connection strings) will be managed via environment variables and not hardcoded in the source code.
*   **Input Validation:** All user input will be validated on the client-side and server-side to prevent common vulnerabilities.

## 11. Performance Considerations
*   **Database Indexing:** Proper indexing will be applied to the PostgreSQL database to ensure fast query performance.
*   **Client-Side Caching:** The mobile app will cache data locally to reduce the number of API calls and improve perceived performance.
*   **Bundle Size:** The React Native application's bundle size will be monitored and optimized to ensure fast startup times.

## 12. Scalability Considerations
*   The serverless nature of the backend allows for automatic scaling based on demand.
*   The Supabase database can be scaled up as the user base grows.
*   The stateless design of the AI service allows it to be scaled horizontally.

## 13. Open Issues
*   A definitive choice of state management library (Zustand vs. Redux Toolkit) needs to be made.
*   A detailed plan for adapting Shadcn's web-based components for React Native needs to be created.

## 14. Future Considerations
*   Implementing a more sophisticated CI/CD pipeline for automated testing and deployment.
*   Exploring real-time capabilities (e.g., using Supabase's real-time features) for instant data synchronization.
*   Building a web version of the application.

## 15. Glossary
*   **JWT:** JSON Web Token.
*   **RLS:** Row-Level Security.
*   **CI/CD:** Continuous Integration/Continuous Deployment.
*   **WSL2:** Windows Subsystem for Linux 2.